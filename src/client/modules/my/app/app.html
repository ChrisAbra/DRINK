<template>
    <div if:true={pageError} class="app fade-in">
        <div class="page-title">
            Uh-oh...
        </div>
        <img class="banner-image" src="/resources/technical-difficulties.png" />
        <div class="center">
            {pageError}
        </div>
    </div>
    <div class="app" onalertmessage={handleAlertMessage} if:false={pageError}>

        <div if:false={showHomeScreen} class="header fade-in clickable" onclick={goToHome}>
            <div class="page-icon">
                <img src="/resources/header-image.jpg" />
            </div>
            <div class="page-title">
                <h1>
                    DRINK!
                </h1>
            </div>
            <br>
        </div>



        <div class="content" if:true={userInfo}>
            <div if:true={showHomeScreen} class="center fade-in-slow">
                <h1>
                    DRINK!
                </h1>
                <br>
                <img class="banner-image" src="/resources/header-image.jpg" />

                <my-room-picker onjoin={showRoomSelector} oncreate={createRoom}></my-room-picker>
                <my-button color="red" label="Change name" onselected={clearUserInfo}></my-button>
            </div>



            <div if:true={showRoomJoin} class="center fade-in">
                <my-room-code-input onjoinroom={handleRoomJoinEvent}
                    error-message=':s Drunk already? Room codes are 4 characters long with no spaces'>
                </my-room-code-input>
            </div>

            <my-lobby if:true={showLobby} room-code={roomInfo.roomCode} room-info={roomInfo} user-info={userInfo}>
            </my-lobby>
            <my-game-picker if:true={showLobby} onselectedgame={handleSelectedGame}></my-game-picker>


            <my-game-container if:true={showGame} game={currentGame}></my-game-container>

            <div if:true={show404} class="center fade-in-slow">
                <img class="banner-image" src="/resources/technical-difficulties.png"
                    style="transform: scalex(0.85);" />
                <div>
                    <h3>
                        We still haven't found what you're looking for
                    </h3>
                </div>
            </div>

            <div if:true={showLoading} class="center fade-in-slow">
                <my-loading-icon></my-loading-icon>
            </div>

        </div>
        <div class="content" if:false={userInfo}>
            <div class="center fade-in">
                <h1>
                    DRINK!
                </h1>
                <br>
                <img class="banner-image" src="/resources/header-image.jpg" />

            </div>

            <div class="center fade-in" style="width: 80%; margin-top:0px">
                <my-input label="Id mate:" class-list="" placeholder='Enter name here' onnewvalue={nameChanged}
                    onenterpressed={nameConfrimed} error-message={error}></my-input>
                <my-button label="Confirm" onselected={nameConfrimed}></my-button>
            </div>
        </div>
        <div if:true={showFooter} class="footer">

        </div>

        <div if:true={alertMessage} class="alert info">
            {alertMessage}
        </div>

    </div>


</template>